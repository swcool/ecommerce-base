  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 9ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 10:42:59 UTC, "id"=>980190962, "updated_at"=>2011-05-16 10:42:59 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:42:59.000000', '2011-05-16 10:42:59.000000')[0m
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 57ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE ("carts"."id" = 980190962)[0m
Redirected to http://test.host/en
Completed 302 Found in 6ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 10:42:59 UTC, "id"=>980190962, "updated_at"=>2011-05-16 10:42:59 UTC}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:43:00.083678', '2011-05-16 10:43:00.083678')
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963) AND ("line_items"."product_id" = 207281424) LIMIT 1
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-05-16 10:43:00.091633', '2011-05-16 10:43:00.091633', 1, NULL)[0m
Redirected to http://test.host/en
Completed 302 Found in 13ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart_id"=>nil, "created_at"=>2011-05-16 10:42:59 UTC, "id"=>980190962, "order_id"=>980190962, "product_id"=>207281424, "quantity"=>1, "updated_at"=>2011-05-16 10:42:59 UTC}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#new as HTML
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:43:00.226045', '2011-05-16 10:43:00.226045')
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Redirected to http://test.host/en
Completed 302 Found in 4ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "created_at"=>2011-05-16 10:42:59 UTC, "email"=>"dave@example.org", "id"=>980190962, "name"=>"Dave Thomas", "pay_type"=>"Check", "updated_at"=>2011-05-16 10:42:59 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:43:00.241933', '2011-05-16 10:43:00.241933')
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2011-05-16 10:42:59.000000', '2011-05-16 10:42:59.000000')
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE ("carts"."id" = 980190963)[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Mon, 16 May 2011 03:43:00 -0700
From: from@example.com
To: dave@example.org
Message-ID: <4dd0ffb452c41_3e280443b3c22684@Shane-Wengs-MacBook-Pro.local.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store. 

You ordered the following items: 
 

We'll send you a separate e-mail when your order ships.
Redirected to http://test.host/en
Completed 302 Found in 122ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:43:00.381564', '2011-05-16 10:43:00.381564')[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-05-16 10:43:00.386329', '2011-05-16 10:43:00.386329', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (7.7ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (6.6ms)
Completed 200 OK in 32ms (Views: 29.5ms | ActiveRecord: 14.3ms)
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "created_at"=>2011-05-16 10:42:59 UTC, "email"=>"dave@example.org", "id"=>980190962, "name"=>"Dave Thomas", "pay_type"=>"Check", "updated_at"=>2011-05-16 10:42:59 UTC}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."name" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 1ms
  Processing by SessionsController#new as HTML
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 3.6ms)
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:43:00.562828', '2011-05-16 10:43:00.562828')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 39ms (Views: 35.7ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at 2011-05-16 03:43:06 -0700
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:43:07.041995', '2011-05-16 10:43:07.041995')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.0ms)
Rendered store/index.html.erb within layouts/application (46.1ms)
Completed 200 OK in 61ms (Views: 51.7ms | ActiveRecord: 3.2ms)


Started POST "/line_items" for 127.0.0.1 at 2011-05-16 03:43:07 -0700
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963) AND ("line_items"."product_id" = 207281424) LIMIT 1
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-05-16 10:43:07.119601', '2011-05-16 10:43:07.119601', 1, NULL)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (54.0ms)
Rendered line_items/create.js.erb (56.5ms)
Completed 200 OK in 102ms (Views: 82.1ms | ActiveRecord: 1.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at 2011-05-16 03:43:07 -0700
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (9.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.8ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered orders/new.html.erb within layouts/application (21.3ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 1.4ms)


Started POST "/orders" for 127.0.0.1 at 2011-05-16 03:43:07 -0700
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('Dave Thomas', '123 The Street', 'dave@example.com', 'Check', '2011-05-16 10:43:07.253583', '2011-05-16 10:43:07.253583')[0m
  [1m[35mAREL (0.1ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-05-16 10:43:07.261248' WHERE ("line_items"."id" = 980190963)
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE ("carts"."id" = 980190963)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (1.6ms)
Rendered notifier/order_received.text.erb (3.4ms)

Sent mail to dave@example.com (47ms)
Date: Mon, 16 May 2011 03:43:07 -0700
From: from@example.com
To: dave@example.com
Message-ID: <4dd0ffbb5cc43_3e380443b3c49698@Shane-Wengs-MacBook-Pro.local.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store. 

You ordered the following items: 
 1 x Programming Ruby 1.9
 

We'll send you a separate e-mail when your order ships.
Redirected to http://www.example.com/en
Completed 302 Found in 153ms


Started GET "/en" for 127.0.0.1 at 2011-05-16 03:43:07 -0700
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 10:43:07.405133', '2011-05-16 10:43:07.405133')
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (45.4ms)
Rendered store/index.html.erb within layouts/application (52.8ms)
Completed 200 OK in 56ms (Views: 53.3ms | ActiveRecord: 1.6ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190964) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 9ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:23:21 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:23:21 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:23:21.000000', '2011-05-16 14:23:21.000000')[0m
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 11ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE ("carts"."id" = 980190962)[0m
Redirected to http://test.host/en
Completed 302 Found in 6ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:23:21 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:23:21 UTC}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:23:22.227543', '2011-05-16 14:23:22.227543')
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963) AND ("line_items"."product_id" = 207281424) LIMIT 1
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-05-16 14:23:22.235831', '2011-05-16 14:23:22.235831', 1, NULL)[0m
Redirected to http://test.host/en
Completed 302 Found in 13ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 46ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart_id"=>nil, "created_at"=>2011-05-16 14:23:22 UTC, "id"=>980190962, "order_id"=>980190962, "product_id"=>207281424, "quantity"=>1, "updated_at"=>2011-05-16 14:23:22 UTC}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#new as HTML
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:23:22.370345', '2011-05-16 14:23:22.370345')
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Redirected to http://test.host/en
Completed 302 Found in 3ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "created_at"=>2011-05-16 14:23:22 UTC, "email"=>"dave@example.org", "id"=>980190962, "name"=>"Dave Thomas", "pay_type"=>"Check", "updated_at"=>2011-05-16 14:23:22 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:23:22.385950', '2011-05-16 14:23:22.385950')
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2011-05-16 14:23:22.000000', '2011-05-16 14:23:22.000000')
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE ("carts"."id" = 980190963)[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Mon, 16 May 2011 07:23:22 -0700
From: from@example.com
To: dave@example.org
Message-ID: <4dd1335a75f48_43d80443b3c6834b@Shane-Wengs-MacBook-Pro.local.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store. 

You ordered the following items: 
 

We'll send you a separate e-mail when your order ships.
Redirected to http://test.host/en
Completed 302 Found in 122ms
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:23:22.526236', '2011-05-16 14:23:22.526236')[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-05-16 14:23:22.531364', '2011-05-16 14:23:22.531364', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (8.5ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (53.0ms)
Completed 200 OK in 79ms (Views: 77.0ms | ActiveRecord: 14.5ms)
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "created_at"=>2011-05-16 14:23:22 UTC, "email"=>"dave@example.org", "id"=>980190962, "name"=>"Dave Thomas", "pay_type"=>"Check", "updated_at"=>2011-05-16 14:23:22 UTC}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."name" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 1ms
  Processing by SessionsController#new as HTML
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 3.6ms)
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:23:22.706542', '2011-05-16 14:23:22.706542')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 51ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  Processing by AdminController#index as HTML
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 9ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:24:30 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:24:30 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:24:30.000000', '2011-05-16 14:24:30.000000')[0m
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 12ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE ("carts"."id" = 980190962)[0m
Redirected to http://test.host/en
Completed 302 Found in 6ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:24:30 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:24:30 UTC}, "id"=>"980190962"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:24:30.857729', '2011-05-16 14:24:30.857729')
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963) AND ("line_items"."product_id" = 207281424) LIMIT 1
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-05-16 14:24:30.865773', '2011-05-16 14:24:30.865773', 1, NULL)[0m
Redirected to http://test.host/en
Completed 302 Found in 13ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items"."id" = 980190962) LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart_id"=>nil, "created_at"=>2011-05-16 14:24:30 UTC, "id"=>980190962, "order_id"=>980190962, "product_id"=>207281424, "quantity"=>1, "updated_at"=>2011-05-16 14:24:30 UTC}, "id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#new as HTML
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:24:30.999739', '2011-05-16 14:24:30.999739')
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Redirected to http://test.host/en
Completed 302 Found in 3ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "created_at"=>2011-05-16 14:24:30 UTC, "email"=>"dave@example.org", "id"=>980190962, "name"=>"Dave Thomas", "pay_type"=>"Check", "updated_at"=>2011-05-16 14:24:30 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:24:31.015509', '2011-05-16 14:24:31.015509')
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2011-05-16 14:24:30.000000', '2011-05-16 14:24:30.000000')
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE ("carts"."id" = 980190963)[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (46ms)
Date: Mon, 16 May 2011 07:24:31 -0700
From: from@example.com
To: dave@example.org
Message-ID: <4dd1339f1b963_44280443b3c3897d@Shane-Wengs-MacBook-Pro.local.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
Thank you for your recent order from The Pragmatic Store. 

You ordered the following items: 
 

We'll send you a separate e-mail when your order ships.
Redirected to http://test.host/en
Completed 302 Found in 123ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:24:31.155018', '2011-05-16 14:24:31.155018')[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-05-16 14:24:31.159754', '2011-05-16 14:24:31.159754', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190963) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (7.7ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 207281424) ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (6.9ms)
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 14.2ms)
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."id" = 980190962) LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "created_at"=>2011-05-16 14:24:30 UTC, "email"=>"dave@example.org", "id"=>980190962, "name"=>"Dave Thomas", "pay_type"=>"Check", "updated_at"=>2011-05-16 14:24:30 UTC}, "id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 48ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."name" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 1ms
  Processing by SessionsController#new as HTML
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 3.6ms)
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:24:31.336253', '2011-05-16 14:24:31.336253')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 39ms (Views: 36.1ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" = 980190962) LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:31:48 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:31:48 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:31:48.000000', '2011-05-16 14:31:48.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 12ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE ("carts"."id" = 980190962)
Redirected to http://test.host/en
Completed 302 Found in 6ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 9ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:31:48 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:31:48 UTC}, "id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 3ms
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:33:27 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:33:27 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:33:27.000000', '2011-05-16 14:33:27.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 12ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE ("carts"."id" = 980190962)
Redirected to http://test.host/en
Completed 302 Found in 6ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 8ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 14:33:27 UTC, "id"=>980190962, "updated_at"=>2011-05-16 14:33:27 UTC}, "id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 3ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 14:37:29.694458', '2011-05-16 14:37:29.694458')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.2ms)
Rendered store/index.html.erb within layouts/application (88.0ms)
Completed 200 OK in 103ms (Views: 93.6ms | ActiveRecord: 2.7ms)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 15:05:10 UTC, "id"=>980190962, "updated_at"=>2011-05-16 15:05:10 UTC}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.5ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-05-16 15:05:10.000000', '2011-05-16 15:05:10.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 34ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE ("carts"."id" = 980190962)
Redirected to http://test.host/en
Completed 302 Found in 6ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 51ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>2011-05-16 15:05:10 UTC, "id"=>980190962, "updated_at"=>2011-05-16 15:05:10 UTC}, "id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE ("carts"."id" = 980190962) LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 3ms
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 8ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 43ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 8ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 1ms
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE ("products"."id" = 980190962) ORDER BY title LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>19.95}}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 8ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products"."id" FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
